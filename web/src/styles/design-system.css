/* Design System - Modern UI Variables */

:root {
  /* Color Palette - Light Mode */
  --color-primary: #667eea;
  --color-primary-dark: #5a67d8;
  --color-secondary: #764ba2;
  --color-accent: #f093fb;
  
  /* Gradients */
  --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  --gradient-accent: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
  --gradient-success: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
  --gradient-warning: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
  --gradient-info: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
  
  /* Glass Morphism */
  --glass-background: rgba(255, 255, 255, 0.1);
  --glass-background-solid: rgba(255, 255, 255, 0.7);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
  --glass-blur: blur(10px);
  
  /* Shadows & Elevation */
  --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.07);
  --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
  --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.1);
  --shadow-2xl: 0 25px 50px rgba(0, 0, 0, 0.15);
  --shadow-glow: 0 0 20px rgba(102, 126, 234, 0.3);
  
  /* Typography Scale */
  --font-primary: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-display: 'Plus Jakarta Sans', var(--font-primary);
  
  --text-xs: 0.75rem;
  --text-sm: 0.875rem;
  --text-base: 1rem;
  --text-lg: 1.125rem;
  --text-xl: 1.25rem;
  --text-2xl: 1.5rem;
  --text-3xl: 1.875rem;
  --text-4xl: 2.25rem;
  --text-5xl: 3rem;
  
  /* Font Weights */
  --font-normal: 400;
  --font-medium: 500;
  --font-semibold: 600;
  --font-bold: 700;
  --font-extrabold: 800;
  
  /* Spacing Scale */
  --space-1: 0.25rem;
  --space-2: 0.5rem;
  --space-3: 0.75rem;
  --space-4: 1rem;
  --space-5: 1.25rem;
  --space-6: 1.5rem;
  --space-8: 2rem;
  --space-10: 2.5rem;
  --space-12: 3rem;
  --space-16: 4rem;
  
  /* Border Radius */
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
  --radius-2xl: 1.5rem;
  --radius-full: 9999px;
  
  /* Transitions - Removed for accessibility */
  /* All transitions have been removed to support users who prefer reduced motion */
  
  /* Z-Index Scale */
  --z-dropdown: 1000;
  --z-sticky: 1020;
  --z-fixed: 1030;
  --z-modal-backdrop: 1040;
  --z-modal: 1050;
  --z-popover: 1060;
  --z-tooltip: 1070;
  
  /* Light Mode Colors */
  --bg-primary: #ffffff;
  --bg-secondary: #f7fafc;
  --bg-tertiary: #edf2f7;
  --text-primary: #1a202c;
  --text-secondary: #4a5568;
  --text-tertiary: #718096;
  --border-color: #e2e8f0;

  /* Semantic Color Variables for Tailwind */
  --background: 0 0% 100%;
  --foreground: 224 71% 4%;
  --card: 0 0% 100%;
  --card-foreground: 224 71% 4%;
  --popover: 0 0% 100%;
  --popover-foreground: 224 71% 4%;
  --primary: 262 83% 58%;
  --primary-foreground: 210 20% 98%;
  --secondary: 220 14% 96%;
  --secondary-foreground: 220 9% 46%;
  --muted: 220 14% 96%;
  --muted-foreground: 220 9% 46%;
  --accent: 220 14% 96%;
  --accent-foreground: 220 9% 46%;
  --destructive: 0 62% 30%;
  --destructive-foreground: 0 85% 97%;
  --border: 220 13% 91%;
  --input: 220 13% 91%;
  --ring: 262 83% 58%;
}

/* Dark Mode - Consolidated selectors */
[data-theme="dark"],
.dark {
  /* Dark Mode Colors - Much Brighter Text */
  --bg-primary: #0f0f0f;
  --bg-secondary: #1a1a1a;
  --bg-tertiary: #2d2d2d;
  --text-primary: #ffffff;        /* Pure white for maximum contrast */
  --text-secondary: #f7fafc;      /* Very bright gray */
  --text-tertiary: #e2e8f0;       /* Bright gray */
  --border-color: #2d3748;

  /* Dark Mode Semantic Color Variables for Tailwind */
  --background: 224 71% 4%;
  --foreground: 0 0% 98%;          /* Very bright white */
  --card: 224 71% 4%;
  --card-foreground: 0 0% 98%;     /* Very bright white for card text */
  --popover: 224 71% 4%;
  --popover-foreground: 0 0% 98%;
  --primary: 262 83% 58%;
  --primary-foreground: 210 20% 98%;
  --secondary: 215 28% 17%;
  --secondary-foreground: 0 0% 98%;
  --muted: 215 28% 17%;
  --muted-foreground: 0 0% 95%;    /* Very bright gray for muted text */
  --accent: 215 28% 17%;
  --accent-foreground: 0 0% 98%;
  --destructive: 0 62% 30%;
  --destructive-foreground: 0 85% 97%;
  --border: 215 28% 17%;
  --input: 215 28% 17%;
  --ring: 262 83% 58%;
  
  /* Adjust Glass for Dark Mode */
  --glass-background: rgba(255, 255, 255, 0.05);
  --glass-background-solid: rgba(0, 0, 0, 0.7);
  --glass-border: rgba(255, 255, 255, 0.1);
  --glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
  
  /* Adjust Shadows for Dark Mode */
  --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.2);
  --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.3);
  --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.4);
  --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.5);
  --shadow-2xl: 0 25px 50px rgba(0, 0, 0, 0.6);
  --shadow-glow: 0 0 20px rgba(102, 126, 234, 0.5);
}

/* Utility Classes */
.glass {
  background: var(--glass-background);
  backdrop-filter: var(--glass-blur);
  -webkit-backdrop-filter: var(--glass-blur);
  border: 1px solid var(--glass-border);
  box-shadow: var(--glass-shadow);
}

.gradient-primary {
  background: var(--gradient-primary);
}

.gradient-accent {
  background: var(--gradient-accent);
}

.text-gradient {
  background: var(--gradient-primary);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Animations - Removed except for loading indicators */
/* Only spin animation is preserved for loading states */
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Prefers reduced motion support */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Animation Utilities - Only loading animations preserved */
.animate-spin {
  animation: spin 1s linear infinite;
}

/* Reduced motion support for loading indicators */
@media (prefers-reduced-motion: reduce) {
  .animate-spin {
    animation: none;
  }
}

/* Hover Utilities - Visual changes without animation */
.hover-lift:hover {
  /* Shadow change instead of transform */
  box-shadow: var(--shadow-lg);
}

.hover-scale:hover {
  /* Shadow change instead of transform */
  box-shadow: var(--shadow-lg);
}

/* Focus Styles */
.focus-ring {
  outline: none;
  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.3);
}

/* Dark Mode Text Overrides - Consolidated */
[data-theme="dark"] .text-gray-600,
[data-theme="dark"] .text-gray-500,
[data-theme="dark"] .text-gray-700,
[data-theme="dark"] .text-gray-400,
[data-theme="dark"] .text-gray-800,
[data-theme="dark"] .text-gray-900,
.dark .text-gray-600,
.dark .text-gray-500,
.dark .text-gray-700,
.dark .text-gray-400,
.dark .text-gray-800,
.dark .text-gray-900 {
  color: #f7fafc !important; /* Very bright white for maximum contrast */
}

/* Slate color overrides - Consolidated */
[data-theme="dark"] .text-slate-600,
[data-theme="dark"] .text-slate-500,
[data-theme="dark"] .text-slate-700,
.dark .text-slate-600,
.dark .text-slate-500,
.dark .text-slate-700 {
  color: #f1f5f9 !important; /* Bright gray for dark mode */
}

/* Fix buttons with light backgrounds - Consolidated */
[data-theme="dark"] button[class*="bg-white"],
[data-theme="dark"] button[class*="bg-gray"],
[data-theme="dark"] .bg-white,
[data-theme="dark"] .bg-gray-50,
[data-theme="dark"] .bg-gray-100,
.dark button[class*="bg-white"],
.dark button[class*="bg-gray"],
.dark .bg-white,
.dark .bg-gray-50,
.dark .bg-gray-100 {
  color: #1a202c !important; /* Dark text for light button backgrounds */
}

/* Override button text specifically - Consolidated */
[data-theme="dark"] button[class*="bg-white"] *,
[data-theme="dark"] button[class*="bg-gray"] *,
.dark button[class*="bg-white"] *,
.dark button[class*="bg-gray"] * {
  color: #1a202c !important; /* Dark text inside light buttons */
}

/* Fix Form Elements in Dark Mode - Consolidated */
[data-theme="dark"] input,
[data-theme="dark"] textarea,
[data-theme="dark"] select,
.dark input,
.dark textarea,
.dark select {
  background-color: #2d3748 !important; /* Dark background for inputs */
  color: #f7fafc !important; /* Light text for inputs */
  border-color: #4a5568 !important; /* Darker border */
}

/* Fix placeholder text in dark mode - Consolidated */
[data-theme="dark"] input::placeholder,
[data-theme="dark"] textarea::placeholder,
.dark input::placeholder,
.dark textarea::placeholder {
  color: #a0aec0 !important; /* Light gray placeholder text */
  opacity: 1; /* Ensure full opacity */
}

/* Fix dropdown/select elements - Consolidated */
[data-theme="dark"] select option,
.dark select option {
  background-color: #2d3748 !important;
  color: #f7fafc !important;
}

/* Fix form labels - Consolidated */
[data-theme="dark"] label,
[data-theme="dark"] .form-label,
.dark label,
.dark .form-label {
  color: #f7fafc !important; /* Light text for labels */
}

/* Fix input focus states - Consolidated */
[data-theme="dark"] input:focus,
[data-theme="dark"] textarea:focus,
[data-theme="dark"] select:focus,
.dark input:focus,
.dark textarea:focus,
.dark select:focus {
  background-color: #2d3748 !important;
  color: #ffffff !important; /* Pure white when focused */
  border-color: #667eea !important; /* Primary color border on focus */
  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.3) !important;
}

/* Fix Icon Visibility in Dark Mode */
[data-theme="dark"] svg,
.dark svg {
  /* Fix stroke color for icons */
  stroke: currentColor !important;
}

/* Specific fixes for dark icons that become invisible */
[data-theme="dark"] svg[stroke*="oklch(0.4"],
.dark svg[stroke*="oklch(0.4"],
[data-theme="dark"] svg[stroke*="oklch(0.5"],
.dark svg[stroke*="oklch(0.5"],
[data-theme="dark"] svg[color*="oklch(0.4"],
.dark svg[color*="oklch(0.4"],
[data-theme="dark"] svg[color*="oklch(0.5"],
.dark svg[color*="oklch(0.5"] {
  stroke: #f7fafc !important; /* Force light stroke for dark icons */
  color: #f7fafc !important; /* Force light color for dark icons */
}

/* Fix Lucide and other icon libraries - more selective */
[data-theme="dark"] .lucide:not([class*="text-"]):not([class*="stroke-"]),
.dark .lucide:not([class*="text-"]):not([class*="stroke-"]),
[data-theme="dark"] [data-lucide]:not([class*="text-"]):not([class*="stroke-"]),
.dark [data-lucide]:not([class*="text-"]):not([class*="stroke-"]) {
  color: #f7fafc !important; /* Light color for icon elements */
  stroke: #f7fafc !important; /* Light stroke for SVGs */
}

/* Preserve colored icons but ensure minimum visibility */
[data-theme="dark"] .text-blue-600,
.dark .text-blue-600,
[data-theme="dark"] .text-green-600,
.dark .text-green-600,
[data-theme="dark"] .text-yellow-600,
.dark .text-yellow-600,
[data-theme="dark"] .text-red-600,
.dark .text-red-600 {
  /* Keep colored icons but ensure they're not too dark */
  opacity: 1;
}

/* Only fix problematic very dark icons */
[data-theme="dark"] [class*="icon"]:not([class*="text-blue"]):not([class*="text-green"]):not([class*="text-yellow"]):not([class*="text-red"]),
.dark [class*="icon"]:not([class*="text-blue"]):not([class*="text-green"]):not([class*="text-yellow"]):not([class*="text-red"]) {
  color: #f7fafc !important; /* Light color for generic icons */
  stroke: #f7fafc !important; /* Light stroke for SVGs */
}

/* Fix specific icon types that might be problematic */
[data-theme="dark"] .text-gray-600 svg,
.dark .text-gray-600 svg,
[data-theme="dark"] .text-gray-500 svg,
.dark .text-gray-500 svg,
[data-theme="dark"] .text-gray-700 svg,
.dark .text-gray-700 svg,
[data-theme="dark"] .text-slate-600 svg,
.dark .text-slate-600 svg,
[data-theme="dark"] .text-slate-500 svg,
.dark .text-slate-500 svg {
  color: #f7fafc !important;
  stroke: #f7fafc !important;
}

/* Ensure icons in buttons maintain proper contrast */
[data-theme="dark"] button svg,
.dark button svg {
  color: inherit !important;
  stroke: currentColor !important;
}

/* Fix search icons and action icons specifically */
[data-theme="dark"] input + svg,
.dark input + svg,
[data-theme="dark"] .search-icon,
.dark .search-icon,
[data-theme="dark"] .action-icon,
.dark .action-icon {
  color: #f7fafc !important;
  stroke: #f7fafc !important;
}

/* Make sure only problematic secondary text is readable - more selective */
[data-theme="dark"] p.text-gray-600,
.dark p.text-gray-600,
[data-theme="dark"] span.text-gray-600,
.dark span.text-gray-600,
[data-theme="dark"] p.text-gray-500,
.dark p.text-gray-500,
[data-theme="dark"] span.text-gray-500,
.dark span.text-gray-500 {
  color: var(--text-secondary) !important;
}

/* Fix Buttons with Light Backgrounds in Dark Mode - More Aggressive */
[data-theme="dark"] button,
.dark button {
  /* Override any hardcoded white/light backgrounds */
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
  border-color: hsl(var(--border)) !important;
}

/* Specific fixes for outline buttons */
[data-theme="dark"] button[class*="outline"],
.dark button[class*="outline"],
[data-theme="dark"] .btn-outline,
.dark .btn-outline {
  background-color: hsl(var(--background)) !important;
  border-color: hsl(var(--border)) !important;
  color: hsl(var(--foreground)) !important;
}

[data-theme="dark"] button[class*="outline"]:hover,
.dark button[class*="outline"]:hover,
[data-theme="dark"] .btn-outline:hover,
.dark .btn-outline:hover {
  background-color: hsl(var(--accent)) !important;
  border-color: hsl(var(--border)) !important;
  color: hsl(var(--accent-foreground)) !important;
}

/* Fix white background buttons specifically */
[data-theme="dark"] button[class*="bg-white"],
.dark button[class*="bg-white"],
[data-theme="dark"] [class*="bg-white"],
.dark [class*="bg-white"] {
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
}

/* Fix hover states for light buttons */
[data-theme="dark"] button[class*="hover:bg-gray"],
.dark button[class*="hover:bg-gray"],
[data-theme="dark"] button[class*="hover:bg-blue-50"],
.dark button[class*="hover:bg-blue-50"] {
  background-color: hsl(var(--background)) !important;
}

[data-theme="dark"] button[class*="hover:bg-gray"]:hover,
.dark button[class*="hover:bg-gray"]:hover,
[data-theme="dark"] button[class*="hover:bg-blue-50"]:hover,
.dark button[class*="hover:bg-blue-50"]:hover {
  background-color: hsl(var(--accent)) !important;
  color: hsl(var(--accent-foreground)) !important;
}

/* Enhanced Form Elements - More Aggressive */
[data-theme="dark"] input,
.dark input,
[data-theme="dark"] textarea,
.dark textarea,
[data-theme="dark"] select,
.dark select {
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
  border-color: hsl(var(--border)) !important;
}

/* Force white form elements to dark */
[data-theme="dark"] input[class*="bg-white"],
.dark input[class*="bg-white"],
[data-theme="dark"] select[class*="bg-white"],
.dark select[class*="bg-white"],
[data-theme="dark"] textarea[class*="bg-white"],
.dark textarea[class*="bg-white"] {
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
}

/* Fix any remaining white/light elements */
[data-theme="dark"] *[class*="bg-white"],
.dark *[class*="bg-white"],
[data-theme="dark"] *[class*="bg-gray-50"],
.dark *[class*="bg-gray-50"],
[data-theme="dark"] *[class*="bg-gray-100"],
.dark *[class*="bg-gray-100"] {
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
}

/* Fix Ghost Button Variant - Critical for Track buttons */
[data-theme="dark"] button[class*="ghost"],
.dark button[class*="ghost"],
[data-theme="dark"] .btn-ghost,
.dark .btn-ghost {
  background-color: transparent !important;
  color: hsl(var(--foreground)) !important;
  border: 1px solid hsl(var(--border)) !important;
}

[data-theme="dark"] button[class*="ghost"]:hover,
.dark button[class*="ghost"]:hover,
[data-theme="dark"] .btn-ghost:hover,
.dark .btn-ghost:hover {
  background-color: hsl(var(--accent)) !important;
  color: hsl(var(--accent-foreground)) !important;
  border-color: hsl(var(--border)) !important;
}

/* Fix buttons with hover:bg-gray-100 specifically */
[data-theme="dark"] button[class*="hover:bg-gray-100"],
.dark button[class*="hover:bg-gray-100"] {
  color: hsl(var(--foreground)) !important;
}

[data-theme="dark"] button[class*="hover:bg-gray-100"]:hover,
.dark button[class*="hover:bg-gray-100"]:hover {
  background-color: hsl(var(--accent)) !important;
  color: hsl(var(--accent-foreground)) !important;
}

/* Fix theme toggle specifically - Better contrast for the toggle background */
[data-theme="dark"] button[class*="bg-gray-200"],
.dark button[class*="bg-gray-200"],
[data-theme="dark"] button[class*="dark:bg-gray-700"],
.dark button[class*="dark:bg-gray-700"] {
  background-color: hsl(var(--border)) !important;
  border: 2px solid hsl(var(--foreground)) !important;
}

/* Fix theme toggle inner circle/slider */
[data-theme="dark"] button[class*="bg-gray-200"] > div,
.dark button[class*="bg-gray-200"] > div,
[data-theme="dark"] button[class*="dark:bg-gray-700"] > div,
.dark button[class*="dark:bg-gray-700"] > div {
  background-color: hsl(var(--foreground)) !important;
  border: 1px solid hsl(var(--background)) !important;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3) !important;
}

/* Ensure theme toggle icons are visible */
[data-theme="dark"] button[class*="bg-gray-200"] svg,
.dark button[class*="bg-gray-200"] svg,
[data-theme="dark"] button[class*="dark:bg-gray-700"] svg,
.dark button[class*="dark:bg-gray-700"] svg {
  color: hsl(var(--background)) !important;
  stroke: hsl(var(--background)) !important;
}

/* Fix any buttons with hardcoded gray text colors */
[data-theme="dark"] button[class*="text-gray"],
.dark button[class*="text-gray"],
[data-theme="dark"] button[class*="hover:text-gray"],
.dark button[class*="hover:text-gray"] {
  color: hsl(var(--foreground)) !important;
}

[data-theme="dark"] button[class*="hover:text-gray"]:hover,
.dark button[class*="hover:text-gray"]:hover {
  color: hsl(var(--accent-foreground)) !important;
}

/* Scrollbar Styling */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--bg-secondary);
}

::-webkit-scrollbar-thumb {
  background: var(--gradient-primary);
  border-radius: var(--radius-full);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-primary-dark);
}